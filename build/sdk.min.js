define("WS",[],function(){var e={options:{reconnectInterval:2e3},lockReconnect:!1,wsObj:null,wsUrl:"",reconnect:function(e){if(!this.lockReconnect){this.lockReconnect=!0;var t=this;setTimeout(function(){t.createWebSocket(e),t.lockReconnect=!1},this.options.reconnectInterval)}},log:function(e){console.log(e)},createWebSocket:function(e){console.log("createWebSocket"),this.wsUrl=e;try{"WebSocket"in window?this.wsObj=new WebSocket(e):"MozWebSocket"in window?this.wsObj=new MozWebSocket(e):this.log("当前浏览器不支持websocket协议,建议使用现代浏览器"),this.initEventHandle()}catch(t){this.reconnect(e)}},initEventHandle:function(){self=this,this.wsObj.onclose=function(){self.log("onclose"),self.reconnect(self.wsUrl)},this.wsObj.onerror=function(e){self.log("onerror"),self.reconnect(self.wsUrl)},this.wsObj.onopen=function(){self.log("onopen"),self.heartCheck.start()},this.wsObj.onmessage=function(e){console.log("onmessage",e.Data),self.heartCheck.reset()}},heartCheck:{timeout:1e4,timeoutObj:null,serverTimeoutObj:null,reset:function(){clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this.start()},start:function(){var t=this;this.timeoutObj=setTimeout(function(){e.wsObj.send("{'cmd':'Ping'}"),t.serverTimeoutObj=setTimeout(function(){e.wsObj.close()},t.timeout)},this.timeout)}}};return e}),define("Utils",[],function(){return Date.prototype.Format=function(e){var t=e,n=["日","一","二","三","四","五","六"];return t=t.replace(/yyyy|YYYY/,this.getFullYear()),t=t.replace(/yy|YY/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),t=t.replace(/MM/,this.getMonth()>9?this.getMonth().toString():"0"+this.getMonth()),t=t.replace(/M/g,this.getMonth()),t=t.replace(/w|W/g,n[this.getDay()]),t=t.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),t=t.replace(/d|D/g,this.getDate()),t=t.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),t=t.replace(/h|H/g,this.getHours()),t=t.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),t=t.replace(/m/g,this.getMinutes()),t=t.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),t=t.replace(/s|S/g,this.getSeconds()),t=t.replace(/u|U/g,(this.getMilliseconds()/1e3+"00000").substring(2,5))},{enumMap:{},EnumMapRegister:function(e,t){this.enumMap[t]={collection:e,reverse:[]};for(var n in e)this.enumMap[t].reverse[e[n]]=n},EnumGetKey:function(e,t){var n=this.enumMap[e].reverse[t];return void 0===n?n:n.replace(e,"")},EnumGetValue:function(e,t){return this.enumMap[e].collection[(e+t).toUpperCase()]},now:function(){return(new Date).Format("HH:mm:ss.u")},containGetKey:function(e,t){for(var n in e)if(e[n]==t)return n;return!1},extend:function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.uber=t.prototype},extendOptions:function(e,t){for(var n in t)if("function"!=typeof t[n])if(t[n]instanceof Object)for(var o in t[n])if("function"!=typeof t[n][o])if(t[n][o]instanceof Object)for(var r in t[n][o])e[n]=e[n]?e[n]:{},e[n][o]=e[n][o]?e[n][o]:{},e[n][o][r]=t[n][o][r];else e[n]=e[n]?e[n]:{},e[n][o]=t[n][o];else e[n][o]=t[n][o];else e[n]=t[n];else e[n]=t[n];return e},getRandomNum4:function(){for(var e=""+Math.floor(1e4*Math.random());e.length<4;)e="0"+e;return e},getSequence:function(){for(var e=""+Math.floor(1e3*Math.random());e.length<3;)e="0"+e;var t=this.timestamp()+"";return t.substring(0,3)+t.substring(6)+e},timestamp:function(){return parseInt((new Date).valueOf()/1e3)},loadProtoFile:function(e){var t=ProtoBuf.loadProtoFile(e);return t.build()},loadProtoString:function(e){var t=ProtoBuf.loadProto(e);return t.build()},ten2sixteen:function(e){return[e>>8,255&e]},hex2IntArray:function(e){e.length%2&&(e+="0");for(var t=[],n=0;n<e.length;n+=2){var o=e.substr(n,2);t[n/2]=parseInt(o,16)}return t},intArray2HexStr:function(e){for(var t="",n=0;n<e.length;n++){var o=parseInt(e[n]).toString(16);1==o.length&&(o="0"+o),t+=o}return t},getOptionOrDefault:function(e,t,n){return e?void 0===e[t]?n:e[t]:n},HOTP:function(e,t){for(var n=sjcl.codec.base32.toBits(e),o=[(0xffffffff00000000&t)>>32,4294967295&t],r=6,s=new sjcl.misc.hmac(n,sjcl.hash.sha1),i=s.encrypt(o),c=15&sjcl.bitArray.extract(i,152,8),a=8*c,u=a+32,l=sjcl.bitArray.bitSlice(i,a,u),f=l[0],h=2147483647&f,p=h%Math.pow(10,r),g=p.toString();g.length<r;)g="0"+g;return g},base32_encode:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",n=e.length,o="",r=0,s=0,i=0;i<n;i++){for(var c=e.charCodeAt(i),a=r<<8|c,u=s+8;u>=5;)o+=t.charAt(a>>u-5),u-=5,a&=Math.pow(2,u)-1;r=a,s=u}return s>0&&(r<<=5-s,o+=t.charAt(r)),o},array_reverse:function(e){var t=[];for(var n in e)t[e[n]]=n;return t},ajax:function(e){e=e||{},e.method=(e.method||"GET").toUpperCase(),e.dataType=e.dataType||"json",e.async=void 0===e.async||e.async;var t=this.formatParams(e.data);if(window.XMLHttpRequest)var n=new XMLHttpRequest;else var n=new ActiveXObject("Microsoft.XMLHTTP");n.onreadystatechange=function(){if(4==n.readyState){var t=n.status;if(t>=200&&t<300)if("json"==e.dataType){var o=!1;try{var o=JSON.parse(n.responseText)}catch(e){o=!1}!1===o?e.success&&e.success(n.responseText,n.responseXML):e.success&&e.success(o,n)}else e.success&&e.success(n.responseText,n.responseXML);else e.fail&&e.fail(t)}},"GET"==e.method?(n.open("GET",e.url+"?"+t,e.async),n.send(null)):"POST"==e.method&&(n.open("POST",e.url,e.async),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t))},formatParamsRecursively:function(e,t){var n=[],o="";for(var r in e)"object"==typeof e[r]?(o=t?t+"["+r+"]":r,n=n.concat(this.formatParamsRecursively(e[r],o))):t?n.push(encodeURIComponent(t+"["+r+"]")+"="+encodeURIComponent(e[r])):n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n},formatParams:function(e){var t=[];return t=this.formatParamsRecursively(e,""),t.push(("v="+Math.random()).replace(".","")),t.join("&")},validateCallback:function(e){return void 0!==e&&"function"==typeof e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},fireFunction:function(e,t){return!(!e||!this.isFunction(e))&&e.apply("",t)},array_get:function(e,t,n){var o,r=e;o="object"==typeof t&&t instanceof Array?t:t.indexOf(".")!=-1?t.split("."):[t];for(var s in o){if(void 0==r[o[s]])return n;r=r[o[s]]}return r}}}),define("SDK",["WS","Utils"],function(e,t){return{ws:e,utils:t}}),require(["SDK"],function(e){return e}),define("../build/SDK-compress",function(){});